<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Comparador de Precio de Aceituna</title>
</head>
<body>
  <h1>Comparador de Precio de Aceituna</h1>

  <p><strong>Precio del aceite (€/kg):</strong> <span id="precio">Cargando...</span></p>
  <p><strong>Fecha de actualización:</strong> <span id="fecha">Cargando...</span></p>
  <p><strong>Última modificación:</strong> <span id="actualizado">Cargando...</span></p>

  <script>
    fetch('precio-aceite.json')
      .then(response => response.json())
      .then(data => {
        // Mostrar el precio
        document.getElementById('precio').textContent = data.precio
          ? data.precio + " €"
          : "No disponible";

        // Mostrar la fecha
        document.getElementById('fecha').textContent = data.fecha
          ? data.fecha
          : "No disponible";

        // Mostrar la última modificación
        if (data.actualizado) {
          const fechaActualizada = new Date(data.actualizado);
          const esValida = !isNaN(fechaActualizada);
          document.getElementById('actualizado').textContent = esValida
            ? fechaActualizada.toLocaleString()
            : "Fecha inválida";
        } else {
          document.getElementById('actualizado').textContent = "No disponible";
        }
      })
      .catch(error => {
        document.getElementById('precio').textContent = "Error al cargar";
        document.getElementById('fecha').textContent = "Error al cargar";
        document.getElementById('actualizado').textContent = "Error al cargar";
        console.error("❌ Error al obtener los datos:", error);
      });
  </script>
</body>
</html>
